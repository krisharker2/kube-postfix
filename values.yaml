replicaCount: 1
nameOverride: ""
fullnameOverride: ""
image:
  repository: 231139847997.dkr.ecr.us-gov-west-1.amazonaws.com/platform/image/advana/smtprelay
  tag: latest
  pullPolicy: IfNotPresent
imagePullSecrets:
  - name: private-registry
resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 200m
    memory: 256Mi
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80
pod:
  securityContext:
    capabilities:
      drop:
      - ALL
container:
  postfix:
    securityContext:
      capabilities:
        drop:
        - ALL
    entrypoint:
      - "/bin/sh"
      - "-c"
    command:
      - "/bin/sh"
      - "-c"
      - "/usr/sbin/postfix & ; while : ; do sleep 300 ; done"
config:
  general: {}
  postfix:
    queue_directory: /var/spool/postfix
    command_directory: /usr/sbin
    daemon_directory: /usr/libexec/postfi
    data_directory: /var/lib/postfix
    mail_owner: postfix
    inet_interfaces: all
    inet_protocols: all
    mydestination: "$hostname, localhost.$domain, localhost"
    unknown_local_recipient_reject_code: 550
    mynetworks: "10.0.16.0/20, 10.0.32.0/20, 10.0.128.0/20, 10.0.144.0/20"
    relayhost: "[smtp.mail.mil]"
    alias_maps: "hash:/etc/aliases"
    alias_database: "hash:/etc/aliases"
    debug_peer_level: 2
    debugger_command: >
      PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
      ddd $daemon_directory/$process_name $process_id & sleep 5            
    sendmail_path: /usr/sbin/sendmail.postfix
    newaliases_path: /usr/bin/newaliases.postfix
    mailq_path: /usr/bin/mailq.postfix
    setgid_group: postdrop
    html_directory: no
    manpage_directory: /usr/share/man
    sample_directory: /usr/share/doc/postfix-2.10.1/samples
    readme_directory: /usr/share/doc/postfix-2.10.1/README_FILES
    smtpd_client_restrictions: "permit_mynetworks,reject"
    default_destination_rate_delay: 1s
    message_size_limit: 26214400
  opendkim: {}
persistence:
  enabled: true
  accessModes:
    - ReadWriteOnce
  existingClaim: ""
  size: 1Gi
  storageClass: ""
readinessProbe:
  exec:
    command:
      - echo "ready"
livenessProbe:
  exec:
    command:
      - echo "live"
startupProbe:
  exec:
    command:
      - echo "start"
wrapper:
  enabled: true
istio:
  injection: "enabled"
  peerAuthentications:
    - name: "postfix"
      spec:
        selector:
          matchLabels:
            app.kubernetes.io/name: "postfix"
